---
title: 2025-12-05
author: 조수아
date: 2025-12-05
category: TIL/조수아/2025/12
layout: post
---

# 오늘 배운 것

- **장애 발생 시 서비스가 중단되지 않도록 하기 위해 어떤 아키텍처적 고려를 하시나요?**
    
    서비스 중단을 막기 위해 가장 먼저 **SPOF 제거**를 고려합니다. 핵심 컴포넌트(웹 서버, API 서버, DB, 메시지 브로커)마다 **이중화 또는 다중화**를 적용하고, 로드밸런서를 앞단에 두어 트래픽을 분산합니다. 애플리케이션 서버는 **액티브/액티브**로 운영해 트래픽을 나누고, DB는 **리플리케이션(Primary-Replica)** 구성으로 읽기 부하를 분산하며 장애 시 자동 Failover가 가능하게 설정합니다. 추가로 로드밸런서에서 **헬스 체크**를 수행해 비정상 노드를 자동 제외하고, 모든 구성 요소는 ***무중단 배포(블루-그린 / 롤링 배포)**가 가능하도록 설계합니다. 이렇게 구성하면 장애가 발생하더라도 서비스 전체가 중단되지 않도록 보장할 수 있습니다.
    
- **HTTPS 통신에서 서버 신뢰성을 어떻게 보장하나요?**
    
    HTTPS에서는 서버가 신뢰할 수 있는 주체인지 확인하기 위해 **CA가 서명한 인증서**를 검증합니다. 서버는 TLS 핸드셰이크 과정에서 인증서와 서명값을 클라이언트에게 전달하고, 클라이언트는 OS/브라우저에 내장된 CA의 **공개키로 서명값을 복호화**해 인증서 내용의 해시값과 일치하는지 비교합니다. 또한 **도메인 일치 여부**, **유효기간**, **중간 인증서 체인**을 함께 확인합니다. 이 과정을 통과한 경우에만 서버의 공개키를 신뢰하고 이후 세션 키 교환과 암호화된 통신을 안전하게 진행할 수 있습니다.
    
- **액티브/액티브 구성이 액티브/스탠바이보다 위험할 수 있는 이유는 무엇인가요?**
    
    액티브/액티브는 두 노드가 동시에 트래픽을 처리해 성능 면에서는 유리하지만, 한 노드에 장애가 발생하면 **나머지 노드에 부하가 즉시 몰리는 구조적 위험**이 있습니다. 순간적인 부하 증가로 두 번째 노드까지 영향을 받으면 전체 서비스가 중단되는 문제로 확산될 수 있습니다. 따라서 액티브/액티브는 자원 여유 설정, 부하 임계치 기준, 오토스케일링 등 함께 고려해야 안정성을 확보할 수 있습니다.
    
- **L4 로드밸런싱과 L7 로드밸런싱의 차이**
    
    L4 로드밸런싱은 **전송 계층 기반(TCP/UDP 포트 정보)** 으로 트래픽을 분산합니다. 패킷의 내용을 보지 않기 때문에 **처리 속도가 빠르고 오버헤드가 적지만**, 세부적인 라우팅은 어렵습니다.
    
    반면 L7 로드밸런싱은 **애플리케이션 계층(HTTP/HTTPS)** 내용을 분석해 URI, 쿠키, 헤더 기반으로 라우팅할 수 있어 **정교한 트래픽 분배**가 가능합니다. 다만 패킷을 파싱해야 해서 비용이 더 듭니다.
    
    그래서 L4는 **고속 단순 분산**, L7은 **정교한 분기와 트래픽 제어**에 주로 사용됩니다.