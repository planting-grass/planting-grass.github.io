---
title: 2025-11-05
author: 조수아
date: 2025-11-05
category: TIL/조수아/2025/11
layout: post
---

# 오늘 배운 것

# 02-1 이더넷

- 이더넷 : 다양한 통신 매체의 규격들과 송수신되는 프레임의 형태, 프레임을 주고받는 방법 등이 정의된 네트워크 기술

## 이더넷 표준

- 오늘날 유선 LAN 환경은 대부분 이더넷을 기반으로 구성
    - 물리 계층 → 이더넷 규격 케이블 사용
    - 데이터 링크 → 이더넷 프레임의 형식 사용
- IEEE 802.3 : 표준화된 이더넷 관련 기술 이름
- 이더넷 표준에 따라 지원되는 네트워크 장비, 통신 매체의 종류와 전속 속도 등이 달라짐

## 통신 매체 표기 형태

- 전송속도BASE-추가특성

### 전송속도

- 숫자만 표기 : Mbps 속도
    - 숫자 뒤 G 붙어 있으면 Gbps

### BASE(BASEBand)

- 변조 타입(비트 신호로 변환된 데이터를 통신 매체로 전송하는 방법)
- 대부분 베이스밴드 방식 사용
- 다른 변조 타입
    - 브로드밴드 : BROAD
    - 패스 밴드 : PASS

### 추가 특성

- 통신 매체의 특성
    - 전송 가능한 최대 거리
    - 물리 계층 인코딩 방식 : 데이터가 비트신호로 변환되는 방식
    - 레인 수 : 비트 신호를 옮길 수 있는 전송로 수

## 통신 매체 종류

- C : 동축 케이블
- T : 트위스티드 페어 케이블
- S : 단파장 광선 케이블
- L : 장파장 광선 케이블

## 이더넷 프레임

- 이더넷 네트워크로 통신할 때 데이터 링크 계층에서 주고 받는 프레임 형식
- 헤더(프리앰블, 수신지 MAC 주소, 송신지 MAC 주소, 타입/길이) + 페이로드(데이터) + 트레일러(PCS) 로 구성

### 프리앰블

- 이더넷 프레임의 시작을 알리는 8바이트 크기의 정보
- 첫 7바이트는 10101010
- 마지막 바이트 10101011
- 수신지는 프림앰블을 통해 이더넷 프레임인지 확인
- 송수신지 간의 동기화에 사용됨

### 수신지 MAC 주소와 송신지 MAC 주소

- MAC 주소 (물리적 주소) : 네트워크 인터페이스마다 부여되는 6바이트 길이의 주소
    - LAN 내의 수신자와 송신지를 특정
    - 데이터 링크 계층
    - 일반적으로 고유하며 변경되지 않는 주소로 네트워크 인터페이스(일반적으로 NIC) 마다 부여
        - 반드시 고유하고 변경되지 않는것은 아님 → 동일 네트워크 내의 기기들의 주소가 같거나 같게 만드는 일이 확률이 낮다는 것

### 타입/길이

- 1500이하 : 프레임의 크기(길이)
- 중간 값 : 잘못된 값이라고 인식
- 1536이상 : 타입
- 타입(이더타입) : 어떤 정보를 캡슐화 했는지를 나타내는 정보
    - 상위계층에서 사용된 프로토콜 이름이 명시
        - IPv4 : 0800
        - IPv6 : 86DD
        - ARP : 0806

### 데이터

- 상위 계층에서 전달 받거나 전달해야 할 내용
- 네트워크 계층의 데이터와 헤더를 합친 PDU가 이곳에 포함
- 최대 크기 1500바이트
- 일정 크기(46바이트) 이상이어야 함으로 그 이하의 데이터라면 크기를 맞추기 위해 0으로 채워짐(패딩)

### FCS

- 수신한 이더넷 프레임에 오류가 있는지 확인하기 위한 필드
- CRC(순환 중복 검사) 라는 오류 검출용 값이 들어감
- 과정
    - 송신지
        - 프리앰블을 제외한 나머지 필드 값들을 바탕으로 CRC값 계산후 FCS 필드에 명시
    - 수신지
        - 프리앰블과 FCS 필드를 제외한 나머지 필드 값들을 바탕으로 CRC 값 계산 뒤 FCS 필드 값과 비교
    - 만약 일치하지 않으면 오류 프레임이라고 판단 후 해당 프레임 폐기

<aside>
💡

### 토큰 링

- 네트워크에서는 호스트들이 링 형태로 연결
- 호스트 끼리 돌아가며 토큰이라는 특별한 정보를 주고 받음
- 네트워크 내 다른 호스트에게 메시지 송신하려면 토큰 필요
</aside>

# 02-2 NIC와 케이블

- NIC(Network Interface Controller) : 호스트와 통신 매체를 연결하고, MAC 주소가 부여되는 네트워크 장비
- 케이블 : NIC에 연결되는 물리 계층의 유선 통신 매체

## NIC

- 호스트와 유무선 통신 매체를 연결하고, 통신 매체를 통해 전달되는 신호와 컴퓨터가 이해할 수 있는 정보간에 변환을 담당하는 네트워크
- 호스트는 NIC가 있어야 네트워크의 참여 가능

### NIC의 생김새

- 다양한 명칭 : 인터페이스 카드, 네트워크 어댑터, LAN 카드, 네트워크 카드, 이더넷 카드
- 다양한 형태 : USB로 연결, 마더보드에 내장

### NIC의 역할

- 네트워크 인터페이스 : 네트워크와의 연결점
    - MAC 주소를 통해 자기 주소와 수신되는 프레임의 수신지 주소를 인식
    - 관련없는 수신지 MAC 주소가 명시된 프레임 폐기
    - FCS 필드를 토대로 오류 검출해 잘못된 프레임 폐기

## 트위스티드 페어 케이블

- 구리선으로 전기 신호를 주고 받는 통신 매체

### 트위스티드 페어 케이블의 생김새

- 구성 : 케이블 본체 + 커넥터(주로 RJ-45)
- 본체는 구실선이 두가닥씩 꼬아져 있음
- 단점
    - 구리 선에 전자적 간섭(노이즈) 발생 가능
        - 따라서 노이즈 감소를 위해 브레이드 실드 혹은 포일 실드로 차폐함

### 실드에 따른 트위스티드 페어 케이블의 분류

- STP : 브레이드 실드로 감쌈
- FTP : 포일 실드로 감쌈
- UTP : 아무것도 안 감쌈
- 세분화된 표기법 : XX/YTP
    - XX : 케이블 외부 실드 종류, 하나 혹은 두개
    - Y : 케이블 내부 실드 종류
    - 예 : SF/FTP, S/FTP

### 카테고리에 따른 트위스티드 페어 케이블의 분류

- 성능의 등급을 구분하는 역할로 높을수록 좋은 성능
    - 지원대역폭, 주요 대응 규격, 전송속도가 각각 다름
- Cat5, Cat6

## 광섬유 케이블

- 빛을 이용하여 전송
- 전기 신호보다 속도도 빠르고 먼거리 전송이 가능
- 노이즈로부터 간섭받는 영향도 적음

### 광섬유 케이블의 생김새

- 케이블 본체 + 커넥터
    - 커넥터 종류 : LC 커넥터, SC 커넥처,  FC 커넥터, ST 커넥터
    - 본체 내부는 머리카락과 같은 형태의 광섬유로 구성
    - 광섬유
        - 코어 : 광섬유의 중심
        - 클래딩 : 코어를 둘러싼 부분
        - 코어와 클래딩 간에 빛의 굴절류 차이로 빛을 코어 내부에 가둠
- 코어의 지름에 따라 광섬유 케이블 종류 구분

### 싱글 모드 광섬유 케이블

- 코어의 지름 8 ~ 10 마이크로미터
- 코어의 지름이 작아 빛의 이동 경로가 하나이상 갖기 어려워 모드가 하나라고 표현
- 신호 손실이 적어 장거리 전송에 적합
- 비용이 높음
- 파장이 긴 장파장의 빛 사용

### 멀티 모드 광섬유 케이블

- 코어의 지름 50 ~ 62.5 마이크로미터
- 빛이 여러 경로로 이동 가능하여 모드가 여러 개
- 싱글 모드 보다 신호 손실이 커 장거리 전송에 부적합
- 단파장의 빛을 사용

# 02-3 허브

- 통신 매체를 통해 송수신 되는 메시지는 다른 호스트에게 전달되는 과정에서 네트워크 장비를 거침
    - 허브 : 물리 계층
    - 스위치 : 데이터 링크 계층

## 주소 개념이 없는 물리 계층

- 물리 계층에는 주소 개념이 없음
    - 따라서 물리 계층의 네트워크 장비는 송수신되는 정보에 대한 어떠한 조작이나 판단을 하지 않음
- 데이터 링크 계층에는 MAC 주소라는 주소 개념 있음
    - 따라서 주소를 바탕으로 송수신되는 정보에 대한 조작과 판단 가능

## 허브

- 물리 계층에서 여러 대의 호스트를 연결하는 장치
    - 리피터 허브라 부르기도 함
        - 리피터 : 신호 증폭함
    - 이더넷 네트워크의 허브는 이더넷 허브라고도 부름
- 포트 : 커넥터를 연결할 수 있는 지점

### 허브의 특징

- 허브는 오늘날 인터넷 환경에서 잘 사용되지 않음 그래도 배울 가치가 있음
1. 전달 받은 신호를 다른 모든 포트 그대로 다시 내보냄
    1. 신호를 전달 받으면 송신지를 제외한 모든 포트에 그저 내보냄
    2. 해당 신호를 전달받은 모든 호스트는 데이터 링크 계층에서 패킷의 MAC 주소를 확인하고 자신과 관련 없는 주소는 폐기
2. 반이중 모드로 통신
    1. 반이중 : 동시에 송수신이 불가능
    2. 전이중 : 송수신을 동시에 양방향으로 가능

### 콜리전 도메인

- 반이중 통신을 하면 충돌이 발생할 수 있음
- 허브에 호스트가 많이 연결되어 있을 수록 충돌 발생 가느으성 증가
    - 콜리전 도메인 : 충돌이 발생할 수 있는 영역으로 허브에 연결된 모든 호스트는 같은 콜리전 도메인
- 콜리전 도메인은 작을수록 충돌 발생 가능성이 줄어 좋음
- 넓은 콜리전 도메인 충돌 문제 해결 방법 → CSMA/CD 프로토콜 OR 스위치 장비

## CSMA/CD (Carrier Sense Multiple Access with Collision Detection)

- 반이중 이더넷 네트워크에서 충돌을 방지하는 대표적인 프로토콜
1. CS는 Carrier Sense, 캐리어 감지를 의미
    1. 현재 네트워크상에서 전송 중인 것이 있는지 확인하여 사용 가능 여부를 검사
2. MA는 Multiple Access, 다중 접근을 의미
    1. 복수의 호스트가 네트워크에 접근하려는 상황을 감지
3. CD는 Collision Detection, 충돌 검출을 의미
    1. 충돌이 발생하면 이를 검출
        1. 전송이 준단
        2. 충돌을 검출한 호스트는 다른 이들에게 충돌이 발생했음을 알리는 잼 신호 보냄
        3. 임의의 시간 동안 기다린 뒤에 다시 전송

# 02-4 스위치

## 스위치(L2 스위치)

- 데이터 링크계층의 네트워크 장비
- 여러 포트에 호스트 연결 가능
- 허브와 달리 MAC 주소를 학습해 특정 MAC 주소를 가진 호스트에만 프레임 전달
- 전이중모드의 통신 지원 → CSMA/CD 프로토콜 불필요 → 대기 시간이 없어 성능상 이점!

### 스위치의 특징

- MAC 주소 학습 : 특정 포트와 해당 포트에 연결된 호스트의 MAC 주소와의 관계를 기억
- MAC 주소 테이블 : 스위치의 포트와 연결되 호스트의 MAC 주소 연관 관계를 메모리에 표 형태로 기억

## MAC 주소 학습

1. 처음 특정 호스트로부터 프레임 수신
2. 해당 호스트의 MAC주소를 프레임 내의 송신지 MAC 주소 정보를 바탕으로 MAC 주소 테이블에 저장
3. 수신지 MAC 주소를 찾을 수 없을 때
    1. 플러딩 : 허브처럼 송신지 포트를 제외한 모든 포트로 프레임을 전송
        1. 자신과 관련 없는 프레임을 받은 호스트는 해당 프레임을 폐기
        2. 수신지 호스트는 스위치로 응답 프레임 전송
            1. 이 응답 프레임을 받은 스위치는 또 해당 송신지 MAC 주소를 기록
4. 필터링 : 프레임을 어디로 내보내고 어디로 내보내지 않을지 결정
5. 포워딩 : 프레임이 전송될 포트에 실제로 프레임을 내보내는 것
6. 에이징 :  일 정 시간 동안 특정 포트에서 프레임을 전송 받지 못하면 해당 항목을 MAC 주소 테이블에서 삭제

<aside>
💡

### 브리지

- 네트워크 영역을 구획하여 콜리전 도메인을 나누거나 네트워크를 확장하는 용도로 사용
- 스위치가 해당 역할을 할 수 있고 프레임 처리 성능에서 우수하여 최근에는 사용 빈도가 줄어듬
</aside>

## VLAN

- 한 대의 스위치로 논리적인 단위의 가상 LAN을 만드는 방법
- 연결된 호스트 중에서 서로 메시지를 주고받을 일이 적거나 브로드 캐스트 메시지를 받을 필요가 없어서 굳이 같은 네트워크에 속할 필요가 없는 호스트들을 분리하고자 새로운 스위치 장비를 구비하지 않아도 됌!
- VLAN1에 속한 호스트와 VLAN2에 속한 호스트가 통신하려면 네트워크 계층 이상의 상위 계층 장비가 필요
- 브로드 캐스트 시, 같은 VLAN에 속한 호스트들에게만 전달

### 포트 기반 VLAN

- 가장 단순하지만 대중적인 방식
- 스위치의 포트가 VLAN을 결정
- 사전에 특정 포트에 VLAN을 할당하고, 해당 포트에 호스트를 연결함으로써 VLAN에 포함시킴
- 발생할 수 있는 문제 : 포트 수가 부족해짐
    - VLAN 스위치를 여러대 두어 같은 VLAN 포트끼리 연결하여 확장하는 것은 같은 VLAN 포트 연결을 위해 사용하느 포트 낭비
    - 해결책 : VLAN 트렁킹
        - 두 대 이상의 VLAN 스위치를 효율적으로 연결하여 확장하는 방법
        - 스위치 간의 통신을 위한 특별한 포트인 트렁크 포트에 VLAN 스위치를 서로 연결
            - 트렁크 포트가 아닌 일반적인 포트 : 액세스 포트
        - 이를 통해 낭비되는 트렁크 포트를 최소화 할 수 있음

<aside>
💡

**트렁크 포트로 전달받은 프레임이 어떤 VLAN에 속하는지 파악하는 방법**

- 스위치가 아직 학습되지 않은 MAC 주소를 포함하고 있을 경우 일반적인 이더넷 프레임만으로는 알 수 없음
- 802.1Q 프레임 : 어떤 VLAN에 속하는지 식별하기 위한 정보까지 추가한 확장된 이더넷 프레임
    - 이더넷 프레임 사이에 32비트 크기의 VLAN 태그라는 정보 추가
</aside>

### MAC 기반 VLAN

- 송수신하는 프레임 속 MAC 주소가 호스트가 속할 VLAN을 결정