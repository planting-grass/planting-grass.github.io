---
title: 2025-09-24
author: 길지운
date: 2025-09-24
category: TIL/길지운/2025/09
layout: post
---

### 1일 1아티클
#### 데보션
###### GitLab-Runner
**배경**
- 이전에는 Jenkins CI 구성 → Gitlab 연동을 위해 Gitlab-Runner 구성 시도
- `k8s`에 `GitLab-Runner`을 컨테이너로 띄워야 하는 상황 → k8s에 패키지 설치하기 용이한 `helm` 활용해 설치
  
**구성 방법**
1. Helm Chart 및 Gitlab Repo 설치
2. Gitlab 프로젝트에서 Token 가져오기
3. `values.yaml` 작성
4. **PV/PVC 설치**
5. Gitlab-Runner 설치
6. 여러개의 Runner 설치 필요 시 `values2.yaml` 추가 작성
7. 연동 확인
  
**연동 스크립트 작성**
1. Gitlab CI/CD Variables 추가
  - AZURE_REGISTRY_URL : 컨테이너 레지스트리 full url
  - AZURE_LOGIN_TOKEN : 레지스트리 로그인 토큰
  - MANIFEST_URL : gitlab 상 k8s manifest 파일의 저장 경로
  - MANIFEST_USERNAME : gitlab 액세스 토큰 이름
  - MANIFEST_TOKEN : gitlab 액세스 토큰 값
2. `.gitlab-ci.yaml` 작성
3. 빌드 속도 개선
4. Gitlab Project 관련 추가 설정
5. 빌드
6. 확인
  
**PV/PVC**
- **maven 빌드 속도 개선** 필요
- maven **의존성 라이브러리를 캐싱**하여 해결
- `pv.yaml`, `pvc.yaml`로 저장
  
### 오늘 배운 것
1. EL, JSTL
2. 바이브 프로젝트
  - PR 대기, 스켈레톤 코드 검토
  
### 내일 할 일
1. 세션, 쿠키
  
### 참고자료
- [GitLab-Runner 연동 가이드 (feat. Maven 빌드 시간 단축)](https://devocean.sk.com/blog/techBoardDetail.do?ID=167831)