---
title: TIL
author: 곽영헌
date: 2025-10-19
category: TIL/곽영헌/2025/10
layout: post
---



    1 refactor(project): 코드 리뷰 제안에 따른 전반적인 코드 품질 개선
    2 
    3 최근 코드 리뷰를 바탕으로 `user` 및 `health` 도메인 전반의 코드 품질, 안정성, 유지보수성을 향상시키기 위한 일련의 개선 사항을 적용합니다.
    4 
    5 주요 개선 사항은 다음과 같습니다:
    6 
    7 - **도메인 및 API 경로**:
    8   - 명확성과 일관성을 위해 `auth` 도메인을 `user`로 변경했습니다.
    9   - 새로운 규칙에 따라 사용자 API 경로를 `/api/v1/users`로 통일했습니다.
   10 
   11 - **User 도메인**:
   12   - `update` 로직을 `User` 엔티티로 이동하여 캡슐화를 강화했습니다.
   13   - `update`/`delete` 책임을 위임하여 `UserService`를 단순화하고, `delete` 작업의 효율성을 개선했습니다.
   14 
   15 - **Health 도메인**:
   16   - `UserHealthCondition`에 복합 유니크 키를 추가하여 데이터 무결성을 보장했습니다.
   17 
   18 - **API 및 예외 처리**:
   19   - `UserController`에 Swagger 어노테이션을 추가하여 API 문서를 개선했습니다.
   20   - 유효성 검사 예외에 대해 상세한 필드별 오류를 제공하도록 `GlobalExceptionHandler`를 개선했습니다.
   21 
   22 - **테스트**:
   23   - 리팩토링에 맞춰 관련된 모든 테스트(`UserRepositoryTest`, `UserServiceTest`, `UserControllerTest`)를 수정했으며, 모든 테스트가 통과하는 것을 확인했습니다.