 ---
 title: 2025-10-02
 author: 강병호 (이름)
 date: 2025-10-02 (날짜)
 category: TIL/강병호/2025/10 (파일 경로 : TIL/{이름}/{연}/{월})
 layout: post (자유)
 ---

### IP 주소 할당 방식

DHCP 서버는 다음과 같은 세 가지 방식으로 IP 주소를 할당할 수 있습니다.

- **동적 할당 (Dynamic Allocation)**
    - 가장 일반적인 방식입니다. DHCP 서버가 IP 주소 풀에서 사용 가능한 주소를 정해진 **임대 시간** 동안 클라이언트에 빌려줍니다. 임대 시간이 만료되면 해당 IP는 반납되어 다른 장치에 할당될 수 있습니다. (예: 카페의 공용 Wi-Fi)
- **자동 할당 (Automatic Allocation)**
    - DHCP 서버가 특정 클라이언트에게 IP 주소를 한 번 할당하면, 해당 클라이언트가 다시 접속할 때 **가급적이면 동일한 IP 주소를 부여**하는 방식입니다. IP가 바뀔 확률이 낮아집니다.
- **정적 할당 (Static Allocation) = DHCP 예약**
    - 관리자가 특정 장치의 고유한 **MAC 주소**에 특정 **IP 주소를 수동으로 매핑**해 놓는 방식입니다. 해당 장치는 네트워크에 접속할 때마다 **항상 동일한 IP 주소를 보장**받게 됩니다. (예: 항상 같은 주소를 사용해야 하는 서버나 네트워크 프린터에 사용)

### IP 주소 임대 갱신 과정

할당된 IP 주소는 영구적인 것이 아니라 정해진 '임대 시간(Lease Time)' 동안만 유효합니다. 클라이언트는 임대 시간이 끝나기 전에 IP 주소를 계속 사용하기 위해 **갱신(Renewal)**을 시도합니다.

1. **T1 (갱신 시간)**: 보통 전체 임대 시간의 **50%**가 되는 시점입니다. 클라이언트는 자신에게 IP를 할당해 준 DHCP 서버에게 직접 "이 IP 주소를 계속 사용하고 싶습니다"라는 갱신 요청을 보냅니다. 서버가 허락하면 임대 시간이 초기화됩니다.
2. **T2 (재결합 시간)**: 보통 전체 임대 시간의 **87.5%**가 되는 시점입니다. T1 시점에서 원래의 DHCP 서버로부터 응답을 받지 못했을 경우, 클라이언트는 "어떤 서버든 좋으니, 이 IP를 계속 사용하게 해주세요!"라는 요청을 **브로드캐스트**로 네트워크 전체에 보냅니다.
3. **임대 만료**: T2 시간까지 갱신에 실패하면, 클라이언트는 할당받았던 IP 주소의 사용을 중단해야 합니다. 그리고 처음 네트워크에 접속했을 때처럼 **Discover** 메시지부터 시작하여 새로운 IP 주소를 할당받는 과정을 다시 시작합니다.

이러한 자동화된 관리 덕분에 사용자는 복잡한 네트워크 설정을 신경 쓰지 않고도 편리하게 인터넷을 사용할 수 있습니다.
