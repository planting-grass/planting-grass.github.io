 ---
 title: 2025-09-27
 author: 강병호
 date: 2025-09-27
 category: TIL/강병호/2025/09 (파일 경로 : TIL/{이름}/{연}/{월})
 layout: post (자유)
 ---

### 토큰의 흐름

- 로그인
    - 사용자가 아이디/비밀번호를 입력해서 서버로 전송
- 토큰 발급
    - 서버는 인증에 성공하면 JWT를 생성한다.(payLoad, 서명을 포함)
- 토큰 저장
    - 클라이언트는 이 토큰을 쿠키나, 로컬 스토리지에 저장한다.
- 이후 요청
    - 요청할때 Authorization 헤더에 `Bearer <JWT>`를 붙여 보낸다.
- 서버 검증
    - 서버는 JWT 서명을 확인하고 payLoad에서 유저 정보를 꺼내서 사용한다.

> 토큰 자체에 상태/정보가 들어있고, 서버는 토큰을 신뢰하는 구조임.
> 

`Authorization: Bearer ...`의 Bearer는 **HTTP 인증 방식**을 말한다.

> [!note] 참고
여기서 세션이랑 토큰방식이랑 다른점
서버가 사용자의 정보를 가지고 있냐 아니냐가 아님. 지금 현재 사용자의 상태(로그인 상태, 장바구니 상태)
같은것들을 기록해놓는다? -> 세션방식
기록하지 않고 토큰에 담아서 보낸다 -> 토큰방식
>
